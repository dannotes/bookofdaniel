<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks | Book of Daniel</title>
<meta name=keywords content="ssl"><meta name=description content="In 2014, security researchers discovered a critical vulnerability in the HSBC mobile banking app for iOS. The app was found to be susceptible to man-in-the-middle (MITM) attacks, allowing attackers to intercept and manipulate sensitive financial information. The root of the problem? The absence of SSL pinning.
Without SSL pinning, the app was vulnerable to accepting any SSL certificate, even a forged one, which enabled attackers to eavesdrop on the communication between the app and HSBC&rsquo;s servers. This security flaw put users&rsquo; banking information at risk and highlighted a significant gap in the app&rsquo;s security framework."><meta name=author content="Dan"><link rel=canonical href=https://bookofdaniel.in/posts/ssl-pinning/><meta name=google-site-verification content="G-VXV565Z72E"><link crossorigin=anonymous href=/assets/css/stylesheet.c2c7686f60e02d1020ae178866d16d8c27015be46b6a30dd6592d750860617d9.css integrity="sha256-wsdob2DgLRAgrheIZtFtjCcBW+RrajDdZZLXUIYGF9k=" rel="preload stylesheet" as=style><link rel=icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://bookofdaniel.in/posts/ssl-pinning/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=G-VXV565Z72E"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VXV565Z72E")}</script><meta property="og:title" content="SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks"><meta property="og:description" content="In 2014, security researchers discovered a critical vulnerability in the HSBC mobile banking app for iOS. The app was found to be susceptible to man-in-the-middle (MITM) attacks, allowing attackers to intercept and manipulate sensitive financial information. The root of the problem? The absence of SSL pinning.
Without SSL pinning, the app was vulnerable to accepting any SSL certificate, even a forged one, which enabled attackers to eavesdrop on the communication between the app and HSBC&rsquo;s servers. This security flaw put users&rsquo; banking information at risk and highlighted a significant gap in the app&rsquo;s security framework."><meta property="og:type" content="article"><meta property="og:url" content="https://bookofdaniel.in/posts/ssl-pinning/"><meta property="og:image" content="https://bookofdaniel.in/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-27T17:13:56+05:30"><meta property="article:modified_time" content="2024-09-27T17:13:56+05:30"><meta property="og:site_name" content="Book of Daniel"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bookofdaniel.in/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks"><meta name=twitter:description content="In 2014, security researchers discovered a critical vulnerability in the HSBC mobile banking app for iOS. The app was found to be susceptible to man-in-the-middle (MITM) attacks, allowing attackers to intercept and manipulate sensitive financial information. The root of the problem? The absence of SSL pinning.
Without SSL pinning, the app was vulnerable to accepting any SSL certificate, even a forged one, which enabled attackers to eavesdrop on the communication between the app and HSBC&rsquo;s servers. This security flaw put users&rsquo; banking information at risk and highlighted a significant gap in the app&rsquo;s security framework."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bookofdaniel.in/posts/"},{"@type":"ListItem","position":2,"name":"SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks","item":"https://bookofdaniel.in/posts/ssl-pinning/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks","name":"SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks","description":"In 2014, security researchers discovered a critical vulnerability in the HSBC mobile banking app for iOS. The app was found to be susceptible to man-in-the-middle (MITM) attacks, allowing attackers to intercept and manipulate sensitive financial information. The root of the problem? The absence of SSL pinning.\nWithout SSL pinning, the app was vulnerable to accepting any SSL certificate, even a forged one, which enabled attackers to eavesdrop on the communication between the app and HSBC\u0026rsquo;s servers. This security flaw put users\u0026rsquo; banking information at risk and highlighted a significant gap in the app\u0026rsquo;s security framework.\n","keywords":["ssl"],"articleBody":"In 2014, security researchers discovered a critical vulnerability in the HSBC mobile banking app for iOS. The app was found to be susceptible to man-in-the-middle (MITM) attacks, allowing attackers to intercept and manipulate sensitive financial information. The root of the problem? The absence of SSL pinning.\nWithout SSL pinning, the app was vulnerable to accepting any SSL certificate, even a forged one, which enabled attackers to eavesdrop on the communication between the app and HSBC‚Äôs servers. This security flaw put users‚Äô banking information at risk and highlighted a significant gap in the app‚Äôs security framework.\nWhile HSBC quickly rectified the issue by implementing SSL pinning in subsequent updates, this incident serves as a stark reminder of the importance of this often-overlooked security measure. Especially in applications that handle sensitive data, such as personal information, financial transactions, or medical records, SSL pinning is a critical layer of defense against potential cyber threats.\nIn this article, we will explore what SSL pinning is, why it is crucial for app security, how it works, and the challenges involved in implementing it effectively.\nWhy SSL Pinning is Important The growing threat of MITM attacks has made SSL pinning an essential practice in application security. In a MITM attack, an attacker intercepts the communication between a client and a server, potentially eavesdropping on or manipulating the data being exchanged. Even if SSL is used, attackers can sometimes trick the client into accepting a malicious certificate, allowing them to decrypt and re-encrypt the data as it passes through.\nSSL pinning addresses this vulnerability by making it impossible for an attacker to use a forged certificate to impersonate a trusted server. When an app employs SSL pinning, it will only accept the server‚Äôs SSL certificate that has been ‚Äúpinned‚Äù or hardcoded into the app. If the certificate does not match, the connection is terminated, preventing the attacker from intercepting the data.\nHow SSL Pinning Works SSL pinning works by embedding or ‚Äúpinning‚Äù a server‚Äôs SSL certificate or public key within the application. When the application connects to the server, it compares the server‚Äôs certificate with the pinned certificate. If the certificates match, the connection is allowed; if they do not, the connection is blocked.\nThere are two primary methods of SSL pinning:\nCertificate Pinning: In this method, the entire SSL certificate is pinned. The application will only accept connections to servers that present this exact certificate. This method is straightforward but can lead to issues if the certificate expires or needs to be renewed, as the pinned certificate in the app must also be updated.\nPublic Key Pinning: Instead of pinning the entire certificate, this method pins the public key extracted from the certificate. Since the public key remains the same even if the certificate is renewed or reissued, public key pinning offers more flexibility and reduces the need for frequent updates to the app.\nHow to get SSL Certificate from Website ü§î To implement SSL pinning effectively, you need to obtain the SSL certificate from the server you want to pin. There are two common methods to do this: extracting the certificate from a browser or generating using OpenSSL.\n1. Extracting an SSL Certificate from a Browser Most modern web browsers allow you to view and export SSL certificates from websites. Here‚Äôs how you can do it:\nUsing Google Chrome (or similar browsers like Firefox):\nNavigate to the website for which you want to obtain the SSL certificate. Click on the padlock icon in the address bar to view the site‚Äôs security information. Select ‚ÄúCertificate (Valid)‚Äù to open the certificate details. In the certificate window, go to the ‚ÄúDetails‚Äù tab. Click on ‚ÄúCopy to File‚Ä¶‚Äù to start the certificate export wizard. Choose the ‚ÄúBase-64 encoded X.509 (.CER)‚Äù format and save the certificate file. Using Firefox:\nSimilar to Chrome, click on the padlock icon in the address bar and select ‚ÄúMore Information‚Äù. Click on ‚ÄúView Certificate‚Äù. In the certificate viewer, navigate to the ‚ÄúDetails‚Äù tab. Click on ‚ÄúExport‚Ä¶‚Äù and save the certificate in the desired format, usually PEM or DER. 2. Extracting SSL Certificate Using OpenSSL In addition to extracting certificates from browsers, you can also use the openssl s_client command to directly retrieve an SSL certificate from a server. This method is particularly useful when you need to automate the certificate retrieval process or work from the command line.\nThe openssl s_client command allows you to connect to a remote server and fetch the SSL certificate being used. Here‚Äôs how you can use it:\nConnect to the Server and Fetch the Certificate: Open a terminal and run the following command, replacing yourserver.com with the domain of the server you wish to connect to:\n1 echo | openssl s_client -servername your-server.com -connect your-server.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' \u003e your-server.crt This command initiates an SSL/TLS connection to the server on port 443 (the standard port for HTTPS).\nSave the Certificate: After running the command, the terminal will display the server‚Äôs SSL certificate chain. The certificate you‚Äôre interested in will be enclosed between -----BEGIN CERTIFICATE----- and -----END CERTIFICATE-----.\nCopy the entire certificate block (including the BEGIN and END lines) and save it to a file. For example, you can save it as server_cert.pem:\n1 2 3 echo \"-----BEGIN CERTIFICATE----- MIID... (certificate content) -----END CERTIFICATE-----\" \u003e server_cert.pem Verify the Certificate (Optional): If you want to verify the details of the certificate, such as the subject, issuer, or expiration date, you can use the following command:\n1 openssl x509 -in server_cert.pem -text -noout This command outputs the full details of the certificate in human-readable format.\n3. How to Get SSL Certificates Using SSL Labs SSL Labs by Qualys is a popular online tool for analyzing the security of SSL/TLS certificates. It provides a detailed report on a website‚Äôs SSL implementation, including its certificate chain, vulnerabilities, and other security configurations. You can also use it to retrieve the SSL certificate of a server for SSL pinning.\nSteps to Retrieve SSL Certificates from SSL Labs: Visit SSL Labs:\nGo to the SSL Labs website: https://www.ssllabs.com/ssltest/. Submit the Server‚Äôs Domain:\nIn the input box labeled ‚ÄúHostname,‚Äù enter the domain name of the server whose SSL certificate you want to retrieve (e.g., yourserver.com). Click the ‚ÄúSubmit‚Äù button to start the SSL test. Wait for the Analysis:\nSSL Labs will begin analyzing the server‚Äôs SSL configuration. This process may take a few minutes, depending on the server‚Äôs setup and the current load on the SSL Labs platform. View the Certificate Chain:\nOnce the analysis is complete, scroll down to the ‚ÄúCertification Paths‚Äù section of the report. You will see a list of certificates provided by the server, including the end-entity certificate (the one you‚Äôre interested in for pinning) and any intermediate or root certificates. Download the Certificate:\nClick on the link to view or download the certificate in PEM format. You can also view the certificate in text format to inspect its details, such as the issuer, expiration date, and subject. Save the Certificate:\nSave the downloaded certificate to a file, such as yourserver_cert.pem, for use in SSL pinning. Challenges and Best Practices While SSL pinning enhances security, it is not without its challenges. One of the main issues is managing certificate expiration. Certificates typically have a validity period, and when they expire, they need to be renewed. If the pinned certificate is not updated in the app, users may experience connectivity issues.\nChallenges in Implementing SSL Pinning Certificate Expiration: As mentioned, if a pinned certificate expires and is renewed, the app must be updated with the new certificate. This can be particularly challenging for mobile apps, where users may not update the app frequently.\nDebugging: Implementing SSL pinning can make debugging more difficult, as any attempt to intercept and inspect network traffic will result in a failed connection. Developers need to be aware of this and may need to disable pinning during development and testing phases.\nBest Practices Flexible Pinning: To reduce the risk of connectivity issues, it is advisable to pin multiple certificates or public keys. This way, if the primary certificate expires or is compromised, the app can fall back on an alternative.\nFallback Mechanisms: Implementing a fallback mechanism that allows the app to retrieve updated certificates from a trusted source can help prevent issues caused by expired or changed certificates.\nRegular Updates: Ensure that the app is regularly updated, and users are encouraged to install updates promptly. This is particularly important when SSL certificates are renewed or changed.\nSecurity vs. User Experience: While SSL pinning is essential for security, it is also important to balance this with user experience. For example, consider providing informative error messages if a connection is blocked due to SSL pinning, so users understand why the app is not functioning as expected.\nConclusion SSL pinning is a powerful technique that adds an extra layer of security to SSL connections, protecting against MITM attacks and ensuring that data is transmitted securely between clients and trusted servers. However, it is important to be aware of the challenges associated with implementing SSL pinning and to follow best practices to ensure a smooth and secure user experience.\nBy understanding how SSL pinning works and carefully implementing it in your applications, you can significantly enhance the security of your users‚Äô data and protect your app from malicious attacks.\n","wordCount":"1547","inLanguage":"en","image":"https://bookofdaniel.in/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-09-27T17:13:56+05:30","dateModified":"2024-09-27T17:13:56+05:30","author":[{"@type":"Person","name":"Dan"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://bookofdaniel.in/posts/ssl-pinning/"},"publisher":{"@type":"Organization","name":"Book of Daniel","logo":{"@type":"ImageObject","url":"https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bookofdaniel.in/ accesskey=h title="Book of Daniel (Alt + H)">Book of Daniel</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bookofdaniel.in/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://bookofdaniel.in/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bookofdaniel.in/>Home</a>&nbsp;¬ª&nbsp;<a href=https://bookofdaniel.in/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">SSL Pinning: Safeguarding Your App Against Man-in-the-Middle Attacks</h1><div class=post-meta><span title='2024-09-27 17:13:56 +0530 +0530'>September 27, 2024</span>&nbsp;¬∑&nbsp;8 min&nbsp;¬∑&nbsp;1547 words&nbsp;¬∑&nbsp;Dan</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#why-ssl-pinning-is-important aria-label="Why SSL Pinning is Important">Why SSL Pinning is Important</a></li><li><a href=#how-ssl-pinning-works aria-label="How SSL Pinning Works">How SSL Pinning Works</a></li><li><a href=#how-to-get-ssl-certificate-from-website- aria-label="How to get SSL Certificate from Website ü§î">How to get SSL Certificate from Website ü§î</a><ul><li><a href=#1-extracting-an-ssl-certificate-from-a-browser aria-label="1. Extracting an SSL Certificate from a Browser"><strong>1. Extracting an SSL Certificate from a Browser</strong></a></li><li><a href=#2-extracting-ssl-certificate-using-openssl aria-label="2. Extracting SSL Certificate Using OpenSSL"><strong>2. Extracting SSL Certificate Using OpenSSL</strong></a></li><li><a href=#3-how-to-get-ssl-certificates-using-ssl-labs aria-label="3. How to Get SSL Certificates Using SSL Labs"><strong>3. How to Get SSL Certificates Using SSL Labs</strong></a><ul><li><a href=#steps-to-retrieve-ssl-certificates-from-ssl-labs aria-label="Steps to Retrieve SSL Certificates from SSL Labs:"><strong>Steps to Retrieve SSL Certificates from SSL Labs:</strong></a></li></ul></li></ul></li><li><a href=#challenges-and-best-practices aria-label="Challenges and Best Practices"><strong>Challenges and Best Practices</strong></a><ul><li><a href=#challenges-in-implementing-ssl-pinning aria-label="Challenges in Implementing SSL Pinning">Challenges in Implementing SSL Pinning</a></li><li><a href=#best-practices aria-label="Best Practices"><strong>Best Practices</strong></a></li></ul></li><li><a href=#conclusion aria-label=Conclusion><strong>Conclusion</strong></a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>In 2014, security researchers discovered a critical vulnerability in the HSBC mobile banking app for iOS. The app was found to be susceptible to man-in-the-middle (MITM) attacks, allowing attackers to intercept and manipulate sensitive financial information. The root of the problem? The absence of SSL pinning.</p><p>Without SSL pinning, the app was vulnerable to accepting any SSL certificate, even a forged one, which enabled attackers to eavesdrop on the communication between the app and HSBC&rsquo;s servers. This security flaw put users&rsquo; banking information at risk and highlighted a significant gap in the app&rsquo;s security framework.</p><p>While HSBC quickly rectified the issue by implementing SSL pinning in subsequent updates, this incident serves as a stark reminder of the importance of this often-overlooked security measure. Especially in applications that handle sensitive data, such as personal information, financial transactions, or medical records, SSL pinning is a critical layer of defense against potential cyber threats.</p><p>In this article, we will explore what SSL pinning is, why it is crucial for app security, how it works, and the challenges involved in implementing it effectively.</p><h2 id=why-ssl-pinning-is-important>Why SSL Pinning is Important<a hidden class=anchor aria-hidden=true href=#why-ssl-pinning-is-important>#</a></h2><p>The growing threat of MITM attacks has made SSL pinning an essential practice in application security. In a MITM attack, an attacker intercepts the communication between a client and a server, potentially eavesdropping on or manipulating the data being exchanged. Even if SSL is used, attackers can sometimes trick the client into accepting a malicious certificate, allowing them to decrypt and re-encrypt the data as it passes through.</p><p>SSL pinning addresses this vulnerability by making it impossible for an attacker to use a forged certificate to impersonate a trusted server. When an app employs SSL pinning, it will only accept the server&rsquo;s SSL certificate that has been &ldquo;pinned&rdquo; or hardcoded into the app. If the certificate does not match, the connection is terminated, preventing the attacker from intercepting the data.</p><h2 id=how-ssl-pinning-works>How SSL Pinning Works<a hidden class=anchor aria-hidden=true href=#how-ssl-pinning-works>#</a></h2><p>SSL pinning works by embedding or &ldquo;pinning&rdquo; a server&rsquo;s SSL certificate or public key within the application. When the application connects to the server, it compares the server&rsquo;s certificate with the pinned certificate. If the certificates match, the connection is allowed; if they do not, the connection is blocked.</p><p>There are two primary methods of SSL pinning:</p><p>Certificate Pinning: In this method, the entire SSL certificate is pinned. The application will only accept connections to servers that present this exact certificate. This method is straightforward but can lead to issues if the certificate expires or needs to be renewed, as the pinned certificate in the app must also be updated.</p><p>Public Key Pinning: Instead of pinning the entire certificate, this method pins the public key extracted from the certificate. Since the public key remains the same even if the certificate is renewed or reissued, public key pinning offers more flexibility and reduces the need for frequent updates to the app.</p><h2 id=how-to-get-ssl-certificate-from-website->How to get SSL Certificate from Website ü§î<a hidden class=anchor aria-hidden=true href=#how-to-get-ssl-certificate-from-website->#</a></h2><p>To implement SSL pinning effectively, you need to obtain the SSL certificate from the server you want to pin. There are two common methods to do this: extracting the certificate from a browser or generating using OpenSSL.</p><h3 id=1-extracting-an-ssl-certificate-from-a-browser><strong>1. Extracting an SSL Certificate from a Browser</strong><a hidden class=anchor aria-hidden=true href=#1-extracting-an-ssl-certificate-from-a-browser>#</a></h3><p>Most modern web browsers allow you to view and export SSL certificates from websites. Here&rsquo;s how you can do it:</p><ol><li><p><strong>Using Google Chrome (or similar browsers like Firefox):</strong></p><ul><li>Navigate to the website for which you want to obtain the SSL certificate.</li><li>Click on the padlock icon in the address bar to view the site&rsquo;s security information.</li><li>Select <strong>&ldquo;Certificate (Valid)&rdquo;</strong> to open the certificate details.</li><li>In the certificate window, go to the <strong>&ldquo;Details&rdquo;</strong> tab.</li><li>Click on <strong>&ldquo;Copy to File&mldr;&rdquo;</strong> to start the certificate export wizard.</li><li>Choose the <strong>&ldquo;Base-64 encoded X.509 (.CER)&rdquo;</strong> format and save the certificate file.</li></ul></li><li><p><strong>Using Firefox:</strong></p><ul><li>Similar to Chrome, click on the padlock icon in the address bar and select <strong>&ldquo;More Information&rdquo;</strong>.</li><li>Click on <strong>&ldquo;View Certificate&rdquo;</strong>.</li><li>In the certificate viewer, navigate to the <strong>&ldquo;Details&rdquo;</strong> tab.</li><li>Click on <strong>&ldquo;Export&mldr;&rdquo;</strong> and save the certificate in the desired format, usually <strong>PEM</strong> or <strong>DER</strong>.</li></ul></li></ol><h3 id=2-extracting-ssl-certificate-using-openssl><strong>2. Extracting SSL Certificate Using OpenSSL</strong><a hidden class=anchor aria-hidden=true href=#2-extracting-ssl-certificate-using-openssl>#</a></h3><p>In addition to extracting certificates from browsers, you can also use the <code>openssl s_client</code> command to directly retrieve an SSL certificate from a server. This method is particularly useful when you need to automate the certificate retrieval process or work from the command line.</p><p>The <code>openssl s_client</code> command allows you to connect to a remote server and fetch the SSL certificate being used. Here‚Äôs how you can use it:</p><ol><li><p>Connect to the Server and Fetch the Certificate:
Open a terminal and run the following command, replacing <code>yourserver.com</code> with the domain of the server you wish to connect to:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=p>|</span> openssl s_client -servername your-server.com -connect your-server.com:443  <span class=p>|</span> sed -ne <span class=s1>&#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39;</span> &gt; your-server.crt
</span></span></code></pre></td></tr></table></div></div><p>This command initiates an SSL/TLS connection to the server on port 443 (the standard port for HTTPS).</p></li><li><p><strong>Save the Certificate:</strong>
After running the command, the terminal will display the server‚Äôs SSL certificate chain. The certificate you‚Äôre interested in will be enclosed between <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code>.</p><p>Copy the entire certificate block (including the <code>BEGIN</code> and <code>END</code> lines) and save it to a file. For example, you can save it as <code>server_cert.pem</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;-----BEGIN CERTIFICATE-----
</span></span></span><span class=line><span class=cl><span class=s2>MIID... (certificate content)
</span></span></span><span class=line><span class=cl><span class=s2>-----END CERTIFICATE-----&#34;</span> &gt; server_cert.pem
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Verify the Certificate (Optional):</strong>
If you want to verify the details of the certificate, such as the subject, issuer, or expiration date, you can use the following command:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>openssl x509 -in server_cert.pem -text -noout
</span></span></code></pre></td></tr></table></div></div><p>This command outputs the full details of the certificate in human-readable format.</p></li></ol><h3 id=3-how-to-get-ssl-certificates-using-ssl-labs><strong>3. How to Get SSL Certificates Using SSL Labs</strong><a hidden class=anchor aria-hidden=true href=#3-how-to-get-ssl-certificates-using-ssl-labs>#</a></h3><p>SSL Labs by Qualys is a popular online tool for analyzing the security of SSL/TLS certificates. It provides a detailed report on a website‚Äôs SSL implementation, including its certificate chain, vulnerabilities, and other security configurations. You can also use it to retrieve the SSL certificate of a server for SSL pinning.</p><h4 id=steps-to-retrieve-ssl-certificates-from-ssl-labs><strong>Steps to Retrieve SSL Certificates from SSL Labs:</strong><a hidden class=anchor aria-hidden=true href=#steps-to-retrieve-ssl-certificates-from-ssl-labs>#</a></h4><ol><li><p><strong>Visit SSL Labs:</strong></p><ul><li>Go to the SSL Labs website: <a href=https://www.ssllabs.com/ssltest/>https://www.ssllabs.com/ssltest/</a>.</li></ul></li><li><p><strong>Submit the Server&rsquo;s Domain:</strong></p><ul><li>In the input box labeled &ldquo;Hostname,&rdquo; enter the domain name of the server whose SSL certificate you want to retrieve (e.g., <code>yourserver.com</code>).</li><li>Click the <strong>&ldquo;Submit&rdquo;</strong> button to start the SSL test.</li></ul></li><li><p><strong>Wait for the Analysis:</strong></p><ul><li>SSL Labs will begin analyzing the server‚Äôs SSL configuration. This process may take a few minutes, depending on the server‚Äôs setup and the current load on the SSL Labs platform.</li></ul></li><li><p><strong>View the Certificate Chain:</strong></p><ul><li>Once the analysis is complete, scroll down to the <strong>&ldquo;Certification Paths&rdquo;</strong> section of the report.</li><li>You will see a list of certificates provided by the server, including the end-entity certificate (the one you‚Äôre interested in for pinning) and any intermediate or root certificates.</li></ul></li><li><p><strong>Download the Certificate:</strong></p><ul><li>Click on the link to view or download the certificate in <strong>PEM</strong> format. You can also view the certificate in text format to inspect its details, such as the issuer, expiration date, and subject.</li></ul></li><li><p><strong>Save the Certificate:</strong></p><ul><li>Save the downloaded certificate to a file, such as <code>yourserver_cert.pem</code>, for use in SSL pinning.</li></ul></li></ol><h2 id=challenges-and-best-practices><strong>Challenges and Best Practices</strong><a hidden class=anchor aria-hidden=true href=#challenges-and-best-practices>#</a></h2><p>While SSL pinning enhances security, it is not without its challenges. One of the main issues is managing certificate expiration. Certificates typically have a validity period, and when they expire, they need to be renewed. If the pinned certificate is not updated in the app, users may experience connectivity issues.</p><h3 id=challenges-in-implementing-ssl-pinning>Challenges in Implementing SSL Pinning<a hidden class=anchor aria-hidden=true href=#challenges-in-implementing-ssl-pinning>#</a></h3><ul><li><p><strong>Certificate Expiration</strong>: As mentioned, if a pinned certificate expires and is renewed, the app must be updated with the new certificate. This can be particularly challenging for mobile apps, where users may not update the app frequently.</p></li><li><p><strong>Debugging</strong>: Implementing SSL pinning can make debugging more difficult, as any attempt to intercept and inspect network traffic will result in a failed connection. Developers need to be aware of this and may need to disable pinning during development and testing phases.</p></li></ul><h3 id=best-practices><strong>Best Practices</strong><a hidden class=anchor aria-hidden=true href=#best-practices>#</a></h3><ul><li><p><strong>Flexible Pinning</strong>: To reduce the risk of connectivity issues, it is advisable to pin multiple certificates or public keys. This way, if the primary certificate expires or is compromised, the app can fall back on an alternative.</p></li><li><p><strong>Fallback Mechanisms</strong>: Implementing a fallback mechanism that allows the app to retrieve updated certificates from a trusted source can help prevent issues caused by expired or changed certificates.</p></li><li><p><strong>Regular Updates</strong>: Ensure that the app is regularly updated, and users are encouraged to install updates promptly. This is particularly important when SSL certificates are renewed or changed.</p></li><li><p><strong>Security vs. User Experience</strong>: While SSL pinning is essential for security, it is also important to balance this with user experience. For example, consider providing informative error messages if a connection is blocked due to SSL pinning, so users understand why the app is not functioning as expected.</p></li></ul><h2 id=conclusion><strong>Conclusion</strong><a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>SSL pinning is a powerful technique that adds an extra layer of security to SSL connections, protecting against MITM attacks and ensuring that data is transmitted securely between clients and trusted servers. However, it is important to be aware of the challenges associated with implementing SSL pinning and to follow best practices to ensure a smooth and secure user experience.</p><p>By understanding how SSL pinning works and carefully implementing it in your applications, you can significantly enhance the security of your users&rsquo; data and protect your app from malicious attacks.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bookofdaniel.in/tags/ssl/>Ssl</a></li></ul><nav class=paginav><a class=prev href=https://bookofdaniel.in/posts/how-my-15-month-old-baby-helped-me-pass-the-cka-exam/><span class=title>¬´ Prev</span><br><span>How My 15-Month-Old Baby Helped Me Pass the CKA Exam</span>
</a><a class=next href=https://bookofdaniel.in/posts/kafka-explained-the-post-office-of-modern-data-streaming/><span class=title>Next ¬ª</span><br><span>Kafka Explained: The Post Office of Modern Data Streaming</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=dannotes/bookofdaniel-comments data-repo-id=R_kgDOMwnsUw data-category=Comments data-category-id=DIC_kwDOMwnsU84CiaCW data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://bookofdaniel.in/>Book of Daniel</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>