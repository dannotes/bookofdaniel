<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How Does TLS Works Under the Hood | Book of Daniel</title>
<meta name=keywords content><meta name=description content="In the cold winter of 1944, Germany’s once-unbreakable Enigma code had been compromised by the Allies. With every intercepted message, their plans were at risk of exposure, and entire operations could be jeopardized. In response, German High Command devised a new, unbreakable system of communication. They called it Operation Valkyrie.
This wasn’t just another machine like the Enigma; this was a new system that couldn’t be cracked, even if the messages were intercepted. Colonel Franz Richter, a seasoned officer in charge of communications, knew that their most sensitive military orders would need to be protected more securely than ever. He gathered his top commanders, including Major Klaus Weber, to unveil the system that could change the course of the war."><meta name=author content="Dan"><link rel=canonical href=https://bookofdaniel.in/posts/how-does-tls-works-under-the-hood/><meta name=google-site-verification content="G-VXV565Z72E"><link crossorigin=anonymous href=/assets/css/stylesheet.f4293b8f53210bcabd910256bfd1bad549ca35946bf52a51c2e8d0bbc7e42cc8.css integrity="sha256-9Ck7j1MhC8q9kQJWv9G61UnKNZRr9SpRwujQu8fkLMg=" rel="preload stylesheet" as=style><link rel=icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://bookofdaniel.in/posts/how-does-tls-works-under-the-hood/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href=https://fonts.cdnfonts.com/css/code-new-roman rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=G-VXV565Z72E"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VXV565Z72E")}</script><meta property="og:title" content="How Does TLS Works Under the Hood"><meta property="og:description" content="In the cold winter of 1944, Germany’s once-unbreakable Enigma code had been compromised by the Allies. With every intercepted message, their plans were at risk of exposure, and entire operations could be jeopardized. In response, German High Command devised a new, unbreakable system of communication. They called it Operation Valkyrie.
This wasn’t just another machine like the Enigma; this was a new system that couldn’t be cracked, even if the messages were intercepted. Colonel Franz Richter, a seasoned officer in charge of communications, knew that their most sensitive military orders would need to be protected more securely than ever. He gathered his top commanders, including Major Klaus Weber, to unveil the system that could change the course of the war."><meta property="og:type" content="article"><meta property="og:url" content="https://bookofdaniel.in/posts/how-does-tls-works-under-the-hood/"><meta property="og:image" content="https://bookofdaniel.in/images/german-commanders.webp"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-12T13:34:23+05:30"><meta property="article:modified_time" content="2024-09-12T13:34:23+05:30"><meta property="og:site_name" content="Book of Daniel"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bookofdaniel.in/images/german-commanders.webp"><meta name=twitter:title content="How Does TLS Works Under the Hood"><meta name=twitter:description content="In the cold winter of 1944, Germany’s once-unbreakable Enigma code had been compromised by the Allies. With every intercepted message, their plans were at risk of exposure, and entire operations could be jeopardized. In response, German High Command devised a new, unbreakable system of communication. They called it Operation Valkyrie.
This wasn’t just another machine like the Enigma; this was a new system that couldn’t be cracked, even if the messages were intercepted. Colonel Franz Richter, a seasoned officer in charge of communications, knew that their most sensitive military orders would need to be protected more securely than ever. He gathered his top commanders, including Major Klaus Weber, to unveil the system that could change the course of the war."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bookofdaniel.in/posts/"},{"@type":"ListItem","position":2,"name":"How Does TLS Works Under the Hood","item":"https://bookofdaniel.in/posts/how-does-tls-works-under-the-hood/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How Does TLS Works Under the Hood","name":"How Does TLS Works Under the Hood","description":"In the cold winter of 1944, Germany’s once-unbreakable Enigma code had been compromised by the Allies. With every intercepted message, their plans were at risk of exposure, and entire operations could be jeopardized. In response, German High Command devised a new, unbreakable system of communication. They called it Operation Valkyrie.\nThis wasn’t just another machine like the Enigma; this was a new system that couldn’t be cracked, even if the messages were intercepted. Colonel Franz Richter, a seasoned officer in charge of communications, knew that their most sensitive military orders would need to be protected more securely than ever. He gathered his top commanders, including Major Klaus Weber, to unveil the system that could change the course of the war.\n","keywords":[],"articleBody":"In the cold winter of 1944, Germany’s once-unbreakable Enigma code had been compromised by the Allies. With every intercepted message, their plans were at risk of exposure, and entire operations could be jeopardized. In response, German High Command devised a new, unbreakable system of communication. They called it Operation Valkyrie.\nThis wasn’t just another machine like the Enigma; this was a new system that couldn’t be cracked, even if the messages were intercepted. Colonel Franz Richter, a seasoned officer in charge of communications, knew that their most sensitive military orders would need to be protected more securely than ever. He gathered his top commanders, including Major Klaus Weber, to unveil the system that could change the course of the war.\nThe Commander’s Key and the Small Vault As Colonel Richter spoke, the tension in the room was palpable. “Our enemies have learned how to read our messages,” he began, “but what I’m about to give you is unbreakable.”\nHe handed each commander a Commander’s Key, a tool that would allow them to lock their orders inside a small vault. These vaults, forged from rare metals, couldn’t be opened by anyone once sealed—except by those with the matching General’s Cipher, a key held only by German High Command.\n“You will use this key to lock your messages in the vault,” Richter explained, “and no one, not even our couriers, will be able to open them. Only we at High Command have the cipher to unlock it.”\nThis was no ordinary encryption. It was based on a cutting-edge cryptographic technique called asymmetric encryption. The Commander’s Key (known today as the public key) could lock the message, but only the private key—the General’s Cipher—could unlock it. If the vault was intercepted, it would remain sealed and secure, its contents unreadable.\nThe Symmetric Key: Securing the Message Inside Colonel Richter wasn’t finished. “Locking the vault is only part of the plan,” he said. “The contents inside must also be encrypted.”\nThe commanders were introduced to another tool: the Symmetric Key. This key would allow both commanders and High Command to encode and decode the actual message. Even if an enemy opened the vault, they wouldn’t understand the orders unless they also had the symmetric key. This was a shared code, known only to the German officials and commanders.\nWith this two-part system—locking the vault with the Commander’s Key and encrypting the message with the Symmetric Key—Germany’s vital communications were more secure than ever.\nThe Seal of Trust: Ensuring Authenticity There was still one final safeguard to prevent sabotage. In wartime, it wasn’t just about intercepting messages; the Allies could attempt to forge fake orders. To prevent this, every vault was sealed with a certificate, a unique symbol that proved the authenticity of the sender.\n“If the seal on the vault does not match the certificate we have on file,” Colonel Richter warned, “we will know it’s a forgery.”\nThis certificate acted like a digital signature, guaranteeing that the message came from the true sender. Much like modern digital certificates, it was impossible to fake, and it provided the final layer of trust needed for secure communications.\nThe Test: A Dangerous Mission The system was put to the test almost immediately. Major Weber had been given a critical task—his orders contained the exact coordinates for a surprise attack that could turn the tide of the war. If those coordinates were compromised, his entire unit would be walking into a trap.\nFollowing the new protocol, Weber encrypted his message using the Symmetric Key, locked it in the small vault with his Commander’s Key, and sealed it with his unique certificate. The vault was handed to Lieutenant Heiner, a trusted courier, who set off through enemy territory, carrying Germany’s future in his satchel.\nThe journey was fraught with danger. Allied patrols were everywhere, and if Heiner were caught, the vault could fall into enemy hands. But even if it did, the Allies wouldn’t be able to open it. The vault was locked, the message encrypted, and the certificate verified.\nVictory Sealed After days of travel, Heiner reached German High Command. The vault, still sealed, was inspected carefully. Colonel Richter checked the certificate against the records and, satisfied with its authenticity, used the General’s Cipher to unlock the vault. Inside, the encrypted message was revealed, and with the Symmetric Key, the orders were finally decrypted.\nThe operation proceeded flawlessly. Major Weber’s unit executed the attack with precision, and the Allies were left in the dark, unaware of how their enemies had communicated so securely.\nThe Fiction Behind the Facts Although this story of Operation Valkyrie is a fictional account, the methods it describes are very real. The Commander’s Key represents the public key used to lock (encrypt) information, while the General’s Cipher is the private key used to unlock (decrypt) it. The Symmetric Key is the shared key used to encrypt and decrypt the actual message, ensuring that both sender and receiver understand the contents.\nFinally, the certificate acts as a digital signature, ensuring the message hasn’t been tampered with and confirming its authenticity. These are the foundational concepts of Public Key Infrastructure (PKI), the system that secures everything from your bank transactions to your emails in today’s digital world.\nThe vault may be fictional, but the principles behind it now protect millions of sensitive communications every day.\nNote: If you catch all the plot holes, you’re officially a genius! 😆 So don’t miss out on the detailed article about Understanding Public Key Infrastructure.\n","wordCount":"916","inLanguage":"en","image":"https://bookofdaniel.in/images/german-commanders.webp","datePublished":"2024-09-12T13:34:23+05:30","dateModified":"2024-09-12T13:34:23+05:30","author":[{"@type":"Person","name":"Dan"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://bookofdaniel.in/posts/how-does-tls-works-under-the-hood/"},"publisher":{"@type":"Organization","name":"Book of Daniel","logo":{"@type":"ImageObject","url":"https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bookofdaniel.in/ accesskey=h title="Book of Daniel (Alt + H)">Book of Daniel</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bookofdaniel.in/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://bookofdaniel.in/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bookofdaniel.in/>Home</a>&nbsp;»&nbsp;<a href=https://bookofdaniel.in/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">How Does TLS Works Under the Hood</h1><div class=post-meta><span title='2024-09-12 13:34:23 +0530 +0530'>September 12, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;916 words&nbsp;·&nbsp;Dan</div></header><figure class=entry-cover><img loading=eager src=https://bookofdaniel.in/images/german-commanders.webp alt="A Depiction of German High command."><p>A Depiction of German High command.</p></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#the-commanders-key-and-the-small-vault aria-label="The Commander’s Key and the Small Vault">The Commander’s Key and the Small Vault</a></li><li><a href=#the-symmetric-key-securing-the-message-inside aria-label="The Symmetric Key: Securing the Message Inside">The Symmetric Key: Securing the Message Inside</a></li><li><a href=#the-seal-of-trust-ensuring-authenticity aria-label="The Seal of Trust: Ensuring Authenticity">The Seal of Trust: Ensuring Authenticity</a></li><li><a href=#the-test-a-dangerous-mission aria-label="The Test: A Dangerous Mission">The Test: A Dangerous Mission</a></li><li><a href=#victory-sealed aria-label="Victory Sealed">Victory Sealed</a><ul><li><a href=#the-fiction-behind-the-facts aria-label="The Fiction Behind the Facts">The Fiction Behind the Facts</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>In the cold winter of 1944, Germany’s once-unbreakable <a href=https://en.wikipedia.org/wiki/Enigma_machine>Enigma</a> code had been compromised by the Allies. With every intercepted message, their plans were at risk of exposure, and entire operations could be jeopardized. In response, German High Command devised a new, unbreakable system of communication. They called it <strong>Operation Valkyrie</strong>.</p><p>This wasn’t just another machine like the <a href=https://en.wikipedia.org/wiki/Enigma_machine>Enigma</a>; this was a new system that couldn’t be cracked, even if the messages were intercepted. Colonel Franz Richter, a seasoned officer in charge of communications, knew that their most sensitive military orders would need to be protected more securely than ever. He gathered his top commanders, including Major Klaus Weber, to unveil the system that could change the course of the war.</p><h3 id=the-commanders-key-and-the-small-vault>The Commander’s Key and the Small Vault<a hidden class=anchor aria-hidden=true href=#the-commanders-key-and-the-small-vault>#</a></h3><p>As Colonel Richter spoke, the tension in the room was palpable. “Our enemies have learned how to read our messages,” he began, “but what I’m about to give you is unbreakable.”</p><p>He handed each commander a <strong>Commander’s Key</strong>, a tool that would allow them to lock their orders inside a <strong>small vault</strong>. These vaults, forged from rare metals, couldn’t be opened by anyone once sealed—except by those with the matching <strong>General’s Cipher</strong>, a key held only by German High Command.</p><p>“You will use this key to lock your messages in the vault,” Richter explained, “and no one, not even our couriers, will be able to open them. Only we at High Command have the cipher to unlock it.”</p><p>This was no ordinary encryption. It was based on a cutting-edge cryptographic technique called <strong>asymmetric encryption</strong>. The Commander’s Key (known today as the <strong>public key</strong>) could lock the message, but only the private key—the General’s Cipher—could unlock it. If the vault was intercepted, it would remain sealed and secure, its contents unreadable.</p><h3 id=the-symmetric-key-securing-the-message-inside>The Symmetric Key: Securing the Message Inside<a hidden class=anchor aria-hidden=true href=#the-symmetric-key-securing-the-message-inside>#</a></h3><p>Colonel Richter wasn’t finished. “Locking the vault is only part of the plan,” he said. “The contents inside must also be encrypted.”</p><p>The commanders were introduced to another tool: the <strong>Symmetric Key</strong>. This key would allow both commanders and High Command to encode and decode the actual message. Even if an enemy opened the vault, they wouldn’t understand the orders unless they also had the symmetric key. This was a shared code, known only to the German officials and commanders.</p><p>With this two-part system—locking the vault with the Commander’s Key and encrypting the message with the Symmetric Key—Germany’s vital communications were more secure than ever.</p><h3 id=the-seal-of-trust-ensuring-authenticity>The Seal of Trust: Ensuring Authenticity<a hidden class=anchor aria-hidden=true href=#the-seal-of-trust-ensuring-authenticity>#</a></h3><p>There was still one final safeguard to prevent sabotage. In wartime, it wasn’t just about intercepting messages; the Allies could attempt to forge fake orders. To prevent this, every vault was sealed with a <strong>certificate</strong>, a unique symbol that proved the authenticity of the sender.</p><p>“If the seal on the vault does not match the certificate we have on file,” Colonel Richter warned, “we will know it’s a forgery.”</p><p>This certificate acted like a digital signature, guaranteeing that the message came from the true sender. Much like modern <strong>digital certificates</strong>, it was impossible to fake, and it provided the final layer of trust needed for secure communications.</p><h3 id=the-test-a-dangerous-mission>The Test: A Dangerous Mission<a hidden class=anchor aria-hidden=true href=#the-test-a-dangerous-mission>#</a></h3><p>The system was put to the test almost immediately. Major Weber had been given a critical task—his orders contained the exact coordinates for a surprise attack that could turn the tide of the war. If those coordinates were compromised, his entire unit would be walking into a trap.</p><p>Following the new protocol, Weber encrypted his message using the Symmetric Key, locked it in the small vault with his Commander’s Key, and sealed it with his unique certificate. The vault was handed to Lieutenant Heiner, a trusted courier, who set off through enemy territory, carrying Germany’s future in his satchel.</p><p>The journey was fraught with danger. Allied patrols were everywhere, and if Heiner were caught, the vault could fall into enemy hands. But even if it did, the Allies wouldn’t be able to open it. The vault was locked, the message encrypted, and the certificate verified.</p><h3 id=victory-sealed>Victory Sealed<a hidden class=anchor aria-hidden=true href=#victory-sealed>#</a></h3><p>After days of travel, Heiner reached German High Command. The vault, still sealed, was inspected carefully. Colonel Richter checked the certificate against the records and, satisfied with its authenticity, used the General’s Cipher to unlock the vault. Inside, the encrypted message was revealed, and with the Symmetric Key, the orders were finally decrypted.</p><p>The operation proceeded flawlessly. Major Weber’s unit executed the attack with precision, and the Allies were left in the dark, unaware of how their enemies had communicated so securely.</p><h4 id=the-fiction-behind-the-facts>The Fiction Behind the Facts<a hidden class=anchor aria-hidden=true href=#the-fiction-behind-the-facts>#</a></h4><blockquote><p>Although this story of Operation Valkyrie is a fictional account, the methods it describes are very real. The <strong>Commander’s Key</strong> represents the <strong>public key</strong> used to lock (encrypt) information, while the <strong>General’s Cipher</strong> is the <strong>private key</strong> used to unlock (decrypt) it. The <strong>Symmetric Key</strong> is the shared key used to encrypt and decrypt the actual message, ensuring that both sender and receiver understand the contents.</p></blockquote><p>Finally, the <strong>certificate</strong> acts as a <strong>digital signature</strong>, ensuring the message hasn’t been tampered with and confirming its authenticity. These are the foundational concepts of <a href=https://bookofdaniel.in/posts/understanding-public-key-infrastructure-and-tls-certificates/><strong>Public Key Infrastructure (PKI)</strong></a>, the system that secures everything from your bank transactions to your emails in today’s digital world.</p><p>The vault may be fictional, but the principles behind it now protect millions of sensitive communications every day.</p><blockquote><p><strong>Note</strong>: If you catch all the plot holes, you’re officially a genius! 😆 So don’t miss out on the detailed article about <a href=https://bookofdaniel.in/posts/understanding-public-key-infrastructure-and-tls-certificates/>Understanding Public Key Infrastructure</a>.</p></blockquote><hr></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://bookofdaniel.in/posts/how-i-started-a-youtube-channel/><span class=title>« Prev</span><br><span>How I Started a YouTube Channel and Got 100K Subscribers in 6 Months (Even Though I Got Copyright Strikes)</span>
</a><a class=next href=https://bookofdaniel.in/posts/a-daily-plan-for-success/><span class=title>Next »</span><br><span>A Daily Plan for Success</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=dannotes/bookofdaniel-comments data-repo-id=R_kgDOMwnsUw data-category=Comments data-category-id=DIC_kwDOMwnsU84CiaCW data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark data-lang=en crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://bookofdaniel.in/>Book of Daniel</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>