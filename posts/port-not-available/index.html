<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Port Not Available: 503 Server Unavailable | Book of Daniel</title>
<meta name=keywords content><meta name=description content="Yes, you read that right. The port you‚Äôre trying to use is already occupied by another application. If you‚Äôre a system or network administrator, you‚Äôve likely encountered this frustrating message more times than you care to remember. It‚Äôs challenging to pinpoint which application is hogging the port (though it‚Äôs not as hard as it seems, as I‚Äôll show you üòâ). These ghost messages can leave you in quite a pickle."><meta name=author content="Dan"><link rel=canonical href=https://bookofdaniel.in/posts/port-not-available/><meta name=google-site-verification content="G-VXV565Z72E"><link crossorigin=anonymous href=/assets/css/stylesheet.d3fa40170a7c616951f55960c866d064e6ff5b53ea5bab58b76e7075640faa30.css integrity="sha256-0/pAFwp8YWlR9VlgyGbQZOb/W1PqW6tYt25wdWQPqjA=" rel="preload stylesheet" as=style><link rel=icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel=stylesheet><link href=https://fonts.cdnfonts.com/css/code-new-roman rel=stylesheet><link rel=alternate hreflang=en href=https://bookofdaniel.in/posts/port-not-available/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-VXV565Z72E"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VXV565Z72E")</script><meta property="og:title" content="Port Not Available: 503 Server Unavailable"><meta property="og:description" content="Yes, you read that right. The port you‚Äôre trying to use is already occupied by another application. If you‚Äôre a system or network administrator, you‚Äôve likely encountered this frustrating message more times than you care to remember. It‚Äôs challenging to pinpoint which application is hogging the port (though it‚Äôs not as hard as it seems, as I‚Äôll show you üòâ). These ghost messages can leave you in quite a pickle."><meta property="og:type" content="article"><meta property="og:url" content="https://bookofdaniel.in/posts/port-not-available/"><meta property="og:image" content="https://bookofdaniel.in/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-10T12:53:44+05:30"><meta property="article:modified_time" content="2024-08-10T12:53:44+05:30"><meta property="og:site_name" content="Book of Daniel"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bookofdaniel.in/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Port Not Available: 503 Server Unavailable"><meta name=twitter:description content="Yes, you read that right. The port you‚Äôre trying to use is already occupied by another application. If you‚Äôre a system or network administrator, you‚Äôve likely encountered this frustrating message more times than you care to remember. It‚Äôs challenging to pinpoint which application is hogging the port (though it‚Äôs not as hard as it seems, as I‚Äôll show you üòâ). These ghost messages can leave you in quite a pickle."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bookofdaniel.in/posts/"},{"@type":"ListItem","position":2,"name":"Port Not Available: 503 Server Unavailable","item":"https://bookofdaniel.in/posts/port-not-available/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Port Not Available: 503 Server Unavailable","name":"Port Not Available: 503 Server Unavailable","description":"Yes, you read that right. The port you‚Äôre trying to use is already occupied by another application. If you‚Äôre a system or network administrator, you‚Äôve likely encountered this frustrating message more times than you care to remember. It‚Äôs challenging to pinpoint which application is hogging the port (though it‚Äôs not as hard as it seems, as I‚Äôll show you üòâ). These ghost messages can leave you in quite a pickle.\n","keywords":[],"articleBody":"Yes, you read that right. The port you‚Äôre trying to use is already occupied by another application. If you‚Äôre a system or network administrator, you‚Äôve likely encountered this frustrating message more times than you care to remember. It‚Äôs challenging to pinpoint which application is hogging the port (though it‚Äôs not as hard as it seems, as I‚Äôll show you üòâ). These ghost messages can leave you in quite a pickle.\nJust yesterday, we faced this exact issue and wasted two hours troubleshooting so that you don‚Äôt have to!\nOur situation was this: We had installed SQL Server 2019 Reporting Services on one of our development servers, and the default port it selected for installation was 8082. Unfortunately, this port was already in use by our front-facing application, so we needed to free it up.\nAfter some frantic Googling, we found a solution: we updated the port from 8082 to 8083 in the config.json file located in the Reporting Services folder. (You can usually find the file here: C:\\Program Files\\Microsoft SQL Server Reporting Services\\SSRS\\RSHostingService\\RSHostingService.exe.) We then restarted the SQL Server Reporting Services Windows service, and voil√†‚ÄîRSHostingService.exe started running on port 8083.\nWe thought everything was resolved and that port 8082 was free. However, when we configured our front-end application and tried to access it, we were greeted with a 503 Server Unavailable error. üò¢\nTroubleshooting Port Availability To narrow down the issue, it‚Äôs helpful to identify which application is using the port.\nFinding the Process Using netstat The netstat command, short for ‚Äúnetwork statistics,‚Äù is a command-line tool that displays active network connections, routing tables, and various network interface statistics. By running the netstat command with the noa parameters, we can list all the listening ports with process ID information and pipe that command to search for the specific port.\nnetstat -noa | find \"8082\" Output:\nTCP 0.0.0.0:8082 0.0.0.0:0 LISTENING 4 TCP [::]:8082 [::]:0 LISTENING 4 The process ID 4 indicates that it‚Äôs a system process. Unfortunately, this doesn‚Äôt tell us which application is using the port, so we need another method.\nFinding the Process Using netsh Netsh, short for Network Shell, is a command-line utility that allows users to configure and manage network devices both locally and remotely. It‚Äôs particularly useful for tasks like changing IP addresses, resetting the TCP/IP stack, and managing wireless settings.\nWe can use netsh to query the HTTP request and find out which process is using port 8082:\nnetsh http show servicestate view=requestq Save the output of the above command to a file, open it using Notepad, and search for the port details:\nnetsh http show servicestate view=requestq \u003e results.log notepad results.log Output:\nRequest queue name: Request queue is unnamed. Version: 2.0 State: Active Request queue 503 verbosity level: Basic Max requests: 1000 Number of active processes attached: 1 Process IDs: 2312 URL groups: URL group ID: BE00000340000001 State: Active Request queue name: Request queue is unnamed. Properties: Max bandwidth: inherited Max connections: inherited Timeouts: Timeout values inherited Number of registered URLs: 1 Registered URLs: HTTP://LOCALHOST:8082/ Server session ID: C000000320000001 Version: 2.0 State: Active Properties: Max bandwidth: 4294967295 Timeouts: Entity body timeout (secs): 120 Drain entity body timeout (secs): 120 Request queue timeout (secs): 120 Idle connection timeout (secs): 120 Header wait timeout (secs): 120 Minimum send rate (bytes/sec): 150 Now you can see that port 8082 is being used by process 2312. You can check Task Manager to see which process is associated with this PID, or use the following command:\ntasklist /FI \"PID eq 2312\" Output:\nImage Name PID Session Name Session# Mem Usage ========================= ======== ================ =========== ============ SQLServerReportingServices 2312 Services 0 42,232 K What the Heck?! üòÆ How is this possible? We changed the reporting tool config file, yet netsh still shows that port 8082 is in use. Upon rechecking the reporting service logs, we confirmed that the application is indeed running on port 8083. ü§î\nIt turns out that the URL with port 8082 was reserved by SQL Reporting Services with an Access Control List (ACL) during installation. Changing the config file alone wasn‚Äôt enough. To see the list of URL reservations for HTTP services, use this command:\nnetsh http show urlacl Output:\nReserved URL : https://*:8082/ User: NT SERVICE\\SQLServerReportingServices Listen: Yes Delegate: No SDDL: D:(A;;GX;;;BU)(A;;GX;;;LS) To free up port 8082 for our front-end application, we needed to delete this obsolete HTTP reservation:\nnetsh http delete urlacl url=http://+:8082/ Output:\nDeleted Successfully. To confirm that the port is free and available for use, run:\nnetstat -noa | find \"8082\" The expected output should be blank! üòâ\nFinally, the port is free!\n","wordCount":"760","inLanguage":"en","image":"https://bookofdaniel.in/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-08-10T12:53:44+05:30","dateModified":"2024-08-10T12:53:44+05:30","author":{"@type":"Person","name":"Dan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bookofdaniel.in/posts/port-not-available/"},"publisher":{"@type":"Organization","name":"Book of Daniel","logo":{"@type":"ImageObject","url":"https://bookofdaniel.in/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bookofdaniel.in/ accesskey=h title="Book of Daniel (Alt + H)">Book of Daniel</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bookofdaniel.in/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://bookofdaniel.in/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bookofdaniel.in/>Home</a>&nbsp;¬ª&nbsp;<a href=https://bookofdaniel.in/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Port Not Available: 503 Server Unavailable</h1><div class=post-meta><span title='2024-08-10 12:53:44 +0530 +0530'>August 10, 2024</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;760 words&nbsp;¬∑&nbsp;Dan</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#troubleshooting-port-availability aria-label="Troubleshooting Port Availability">Troubleshooting Port Availability</a><ul><li><a href=#finding-the-process-using-netstat aria-label="Finding the Process Using netstat">Finding the Process Using <code>netstat</code></a></li><li><a href=#finding-the-process-using-netsh aria-label="Finding the Process Using netsh">Finding the Process Using <code>netsh</code></a></li></ul></li><li><a href=#what-the-heck- aria-label="What the Heck?! üòÆ">What the Heck?! üòÆ</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p><strong>Yes, you read that right.</strong> The port you‚Äôre trying to use is already occupied by another application. If you‚Äôre a system or network administrator, you‚Äôve likely encountered this frustrating message more times than you care to remember. It‚Äôs challenging to pinpoint which application is hogging the port (though it‚Äôs not as hard as it seems, as I‚Äôll show you üòâ). These ghost messages can leave you in quite a pickle.</p><p>Just yesterday, we faced this exact issue and wasted two hours troubleshooting so that you don‚Äôt have to!</p><p>Our situation was this: We had installed SQL Server 2019 Reporting Services on one of our development servers, and the default port it selected for installation was <code>8082</code>. Unfortunately, this port was already in use by our front-facing application, so we needed to free it up.</p><p>After some frantic Googling, we found a solution: we updated the port from <code>8082</code> to <code>8083</code> in the <code>config.json</code> file located in the Reporting Services folder. (You can usually find the file here: <code>C:\Program Files\Microsoft SQL Server Reporting Services\SSRS\RSHostingService\RSHostingService.exe</code>.) We then restarted the <code>SQL Server Reporting Services</code> Windows service, and voil√†‚Äî<code>RSHostingService.exe</code> started running on port <code>8083</code>.</p><p>We thought everything was resolved and that port <code>8082</code> was free. However, when we configured our front-end application and tried to access it, we were greeted with a <code>503 Server Unavailable</code> error. üò¢</p><h2 id=troubleshooting-port-availability>Troubleshooting Port Availability<a hidden class=anchor aria-hidden=true href=#troubleshooting-port-availability>#</a></h2><p>To narrow down the issue, it‚Äôs helpful to identify which application is using the port.</p><h3 id=finding-the-process-using-netstat>Finding the Process Using <code>netstat</code><a hidden class=anchor aria-hidden=true href=#finding-the-process-using-netstat>#</a></h3><p>The <strong>netstat</strong> command, short for &ldquo;network statistics,&rdquo; is a command-line tool that displays active network connections, routing tables, and various network interface statistics. By running the <code>netstat</code> command with the <code>noa</code> parameters, we can list all the listening ports with process ID information and pipe that command to search for the specific port.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>netstat -noa <span class=p>|</span> find <span class=s2>&#34;8082&#34;</span>
</span></span></code></pre></div><p><strong>Output:</strong></p><pre tabindex=0><code>TCP    0.0.0.0:8082           0.0.0.0:0              LISTENING       4
TCP    [::]:8082              [::]:0                 LISTENING       4
</code></pre><p>The process ID <code>4</code> indicates that it‚Äôs a system process. Unfortunately, this doesn‚Äôt tell us which application is using the port, so we need another method.</p><h3 id=finding-the-process-using-netsh>Finding the Process Using <code>netsh</code><a hidden class=anchor aria-hidden=true href=#finding-the-process-using-netsh>#</a></h3><p><strong>Netsh</strong>, short for <strong>Network Shell</strong>, is a command-line utility that allows users to configure and manage network devices both locally and remotely. It‚Äôs particularly useful for tasks like changing IP addresses, resetting the TCP/IP stack, and managing wireless settings.</p><p>We can use <code>netsh</code> to query the HTTP request and find out which process is using port <code>8082</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>netsh http show servicestate view=requestq
</span></span></code></pre></div><p>Save the output of the above command to a file, open it using Notepad, and search for the port details:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>netsh http show servicestate view=requestq <span class=p>&gt;</span> results.log
</span></span><span class=line><span class=cl>notepad results.log
</span></span></code></pre></div><p><strong>Output:</strong></p><pre tabindex=0><code>Request queue name: Request queue is unnamed.
    Version: 2.0
    State: Active
    Request queue 503 verbosity level: Basic
    Max requests: 1000
    Number of active processes attached: 1
    Process IDs:
        2312
    URL groups:
    URL group ID: BE00000340000001
        State: Active
        Request queue name: Request queue is unnamed.
        Properties:
            Max bandwidth: inherited
            Max connections: inherited
            Timeouts:
                Timeout values inherited
            Number of registered URLs: 1
            Registered URLs:
                HTTP://LOCALHOST:8082/
        Server session ID: C000000320000001
            Version: 2.0
            State: Active
            Properties:
                Max bandwidth: 4294967295
                Timeouts:
                    Entity body timeout (secs): 120
                    Drain entity body timeout (secs): 120
                    Request queue timeout (secs): 120
                    Idle connection timeout (secs): 120
                    Header wait timeout (secs): 120
                    Minimum send rate (bytes/sec): 150
</code></pre><p>Now you can see that port <code>8082</code> is being used by process <code>2312</code>. You can check Task Manager to see which process is associated with this PID, or use the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>tasklist /FI <span class=s2>&#34;PID eq 2312&#34;</span>
</span></span></code></pre></div><p><strong>Output:</strong></p><pre tabindex=0><code>Image Name                     PID Session Name        Session#    Mem Usage
========================= ======== ================ =========== ============
SQLServerReportingServices     2312 Services                   0     42,232 K
</code></pre><h2 id=what-the-heck->What the Heck?! üòÆ<a hidden class=anchor aria-hidden=true href=#what-the-heck->#</a></h2><p>How is this possible? We changed the reporting tool config file, yet <code>netsh</code> still shows that port <code>8082</code> is in use. Upon rechecking the reporting service logs, we confirmed that the application is indeed running on port <code>8083</code>. ü§î</p><p>It turns out that the URL with port <code>8082</code> was reserved by SQL Reporting Services with an Access Control List (ACL) during installation. Changing the config file alone wasn‚Äôt enough. To see the list of URL reservations for HTTP services, use this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>netsh http show urlacl
</span></span></code></pre></div><p><strong>Output:</strong></p><pre tabindex=0><code> Reserved URL            : https://*:8082/
        User: NT SERVICE\SQLServerReportingServices
            Listen: Yes
            Delegate: No
            SDDL: D:(A;;GX;;;BU)(A;;GX;;;LS)
</code></pre><p>To free up port <code>8082</code> for our front-end application, we needed to delete this obsolete HTTP reservation:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>netsh http delete urlacl url=http://+:8082/
</span></span></code></pre></div><p><strong>Output:</strong></p><pre tabindex=0><code>Deleted Successfully.
</code></pre><p>To confirm that the port is free and available for use, run:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>netstat -noa <span class=p>|</span> find <span class=s2>&#34;8082&#34;</span>
</span></span></code></pre></div><p>The expected output should be blank! üòâ</p><p>Finally, the port is free!</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://bookofdaniel.in/posts/how-to-setup-kubernetes-in-azure-virtual-machines/><span class=title>¬´ Prev</span><br><span>How to Setup Kubernetes in Azure Virtual Machines</span>
</a><a class=next href=https://bookofdaniel.in/posts/kubernetes-architecture-explained-the-ship-analogy-of-kodekloud/><span class=title>Next ¬ª</span><br><span>Kubernetes Architecture Explained: the Ship Analogy of KodeKloud</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://bookofdaniel.in/>Book of Daniel</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>